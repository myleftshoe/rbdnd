{"version":3,"sources":["utils.js","SimpleScroller.js","App.js","index.js"],"names":["applyDrag","arr","dragResult","console","log","removedIndex","addedIndex","payload","result","Object","toConsumableArray","itemToAdd","splice","generateItems","count","creator","i","push","stopEvent","e","preventDefault","stopPropagation","containerElement","Component","SimpleScroller","_this3","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","handleScroll","setState","isDragging","onDragStart","a","scrollTop","onDrop","items","state","containerRef","el","index","id","data","react_default","createElement","ref","className","onContextMenu","dist","map","p","key","App","SimpleScroller_SimpleScroller","ReactDOM","render","src_App_0","document","getElementById"],"mappings":"wSACaA,EAAY,SAACC,EAAKC,GAC3BC,QAAQC,IAAIF,GAD8B,IAElCG,EAAsCH,EAAtCG,aAAcC,EAAwBJ,EAAxBI,WAAYC,EAAYL,EAAZK,QAClC,GAAqB,OAAjBF,GAAwC,OAAfC,EAAqB,OAAOL,EAEzD,IAAMO,EAAMC,OAAAC,EAAA,EAAAD,CAAOR,GACfU,EAAYJ,EAUhB,OARqB,OAAjBF,IACFM,EAAYH,EAAOI,OAAOP,EAAc,GAAG,IAG1B,OAAfC,GACFE,EAAOI,OAAON,EAAY,EAAGK,GAGxBH,GAGIK,EAAgB,SAACC,EAAOC,GAEnC,IADA,IAAMP,EAAS,GACNQ,EAAI,EAAGA,EAAIF,EAAOE,IACzBR,EAAOS,KAAKF,EAAQC,IAEtB,OAAOR,GAGIU,EAAY,SAAAC,GACvBhB,QAAQC,IAAI,kBACZe,EAAEC,iBACFD,EAAEE,mBCOFC,SAjCiBC,aAiCC,OAUhBC,cA0BJ,SAAAA,IAAc,IAAAC,EAAA,OAAAhB,OAAAiB,EAAA,EAAAjB,CAAAkB,KAAAH,IACZC,EAAAhB,OAAAmB,EAAA,EAAAnB,CAAAkB,KAAAlB,OAAAoB,EAAA,EAAApB,CAAAe,GAAAM,KAAAH,QAzBAI,aAAe,SAAAZ,GACXM,EAAKO,SAAS,CAACC,YAAW,IAC1Bd,EAAEC,iBAEFjB,QAAQC,IAAIe,IAoBJM,EAjBZS,YAAc,SAACC,GACXhC,QAAQC,IAAI,cAAc+B,GAGTb,EAAiBc,WAa1BX,EATZY,OAAS,SAAAlB,GAELM,EAAKO,SAAS,CAAEM,MAAOtC,EAAUyB,EAAKc,MAAMD,MAAOnB,MAO3CM,EALZe,aAAe,SAACC,GACZnB,EAAmBmB,EACnBtC,QAAQC,IAAIkB,IAKhBG,EAAKc,MAAQ,CACXD,MAAOzB,EAAc,GAAI,SAAC6B,GACxB,MAAO,CACLC,GAAID,EACJE,KAAM,YAAcF,MANdjB,wEAaZ,OADAtB,QAAQC,IAAIuB,KAAKY,MAAMN,YAErBY,EAAAV,EAAAW,cAAA,WACED,EAAAV,EAAAW,cAAA,OAAKC,IAAKpB,KAAKa,aAAcQ,UAAU,uBAAuBC,cAAe/B,GAC3E2B,EAAAV,EAAAW,cAACI,EAAA,UAAD,CAAWhB,YAAaP,KAAKO,YAAaG,OAAQV,KAAKU,QACpDV,KAAKY,MAAMD,MAAMa,IAAI,SAAAC,GACpB,OACEP,EAAAV,EAAAW,cAACI,EAAA,UAAD,CAAWG,IAAKD,EAAET,IAChBE,EAAAV,EAAAW,cAAA,OAAKE,UAAU,kBACZI,EAAER,mBA/CMrB,aC/Bd+B,mLARX,OACET,EAAAV,EAAAW,cAAA,OAAKE,UAAU,OACbH,EAAAV,EAAAW,cAACS,EAAD,cAJUhC,aCFlBiC,IAASC,OAAOZ,EAAAV,EAAAW,cAACY,EAAD,MAASC,SAASC,eAAe","file":"static/js/main.101d14f5.chunk.js","sourcesContent":["\r\nexport const applyDrag = (arr, dragResult) => {\r\n    console.log(dragResult);\r\n    const { removedIndex, addedIndex, payload } = dragResult;\r\n    if (removedIndex === null && addedIndex === null) return arr;\r\n  \r\n    const result = [...arr];\r\n    let itemToAdd = payload;\r\n  \r\n    if (removedIndex !== null) {\r\n      itemToAdd = result.splice(removedIndex, 1)[0];\r\n    }\r\n  \r\n    if (addedIndex !== null) {\r\n      result.splice(addedIndex, 0, itemToAdd);\r\n    }\r\n  \r\n    return result;\r\n  };\r\n  \r\n  export const generateItems = (count, creator) => {\r\n    const result = [];\r\n    for (let i = 0; i < count; i++) {\r\n      result.push(creator(i));\r\n    }\r\n    return result;\r\n  };\r\n\r\n  export const stopEvent = e => {\r\n    console.log(\"stopping event\");\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n  }","import React, { Component } from 'react';\r\nimport { Container, Draggable } from 'react-smooth-dnd';\r\nimport { applyDrag, generateItems, stopEvent } from './utils';\r\nimport './styles.css';\r\n\r\nclass Simple extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      items: generateItems(50, (index) => {\r\n        return {\r\n          id: index,\r\n          data: 'Draggable' + index\r\n        };\r\n      })\r\n    };\r\n  }\r\n  render() {\r\n    return (\r\n      <div>\r\n        <div className=\"simple-page\">\r\n          <Container onDrop={e => this.setState({ items: applyDrag(this.state.items, e) })}>\r\n            {this.state.items.map(p => {\r\n              return (\r\n                <Draggable key={p.id}>\r\n                  <div className=\"draggable-item\">\r\n                    {p.data}\r\n                  </div>\r\n                </Draggable>\r\n              );\r\n            })}\r\n          </Container>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nvar containerElement =- null;\r\n\r\n\r\nvar scrollPosition = 0;\r\n\r\nfunction preventDrag(e) {\r\n    containerElement.scrollTop = scrollPosition;\r\n};\r\n\r\n\r\nclass SimpleScroller extends Component {\r\n    \r\n    handleScroll = e => {\r\n        this.setState({isDragging:true});\r\n        e.preventDefault();\r\n        // e.stopPropagation();\r\n        console.log(e);\r\n    }\r\n\r\n    onDragStart = (a) => {\r\n        console.log(\"onDragStart\",a);\r\n        // this._handleScroll = this.handleScroll.bind(this);\r\n        // containerElement.addEventListener(\"scroll\", this.handleScroll, {passive:false});\r\n        scrollPosition = containerElement.scrollTop;\r\n        // containerElement.addEventListener(\"scroll\", preventDrag, {passive:false});\r\n        // window.addEventListener(\"scroll\", this.handleScroll, {passive:false});\r\n    }\r\n    onDrop = e => {\r\n        // containerElement.removeEventListener(\"scroll\", preventDrag, {passive:false});\r\n        this.setState({ items: applyDrag(this.state.items, e)});\r\n    }\r\n    containerRef = (el) => {\r\n        containerElement = el;\r\n        console.log(containerElement);\r\n\r\n    }\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      items: generateItems(50, (index) => {\r\n        return {\r\n          id: index,\r\n          data: 'Draggable' + index\r\n        };\r\n      })\r\n    };\r\n  }\r\n  render() {\r\n    console.log(this.state.isDragging);\r\n    return (\r\n      <div>\r\n        <div ref={this.containerRef} className=\"simple-page-scroller\" onContextMenu={stopEvent}>\r\n          <Container onDragStart={this.onDragStart} onDrop={this.onDrop}>\r\n            {this.state.items.map(p => {\r\n              return (\r\n                <Draggable key={p.id}>\r\n                  <div className=\"draggable-item\">\r\n                    {p.data}\r\n                  </div>\r\n                </Draggable>\r\n              );\r\n            })}\r\n          </Container>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport {\r\n  Simple,\r\n  SimpleScroller\r\n};","import React, { Component } from 'react';\nimport './App.css';\nimport {SimpleScroller} from './SimpleScroller'\n\n\n\n\nclass App extends Component {\n  render() {\n    return (\n      <div className=\"App\">\n        <SimpleScroller/>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}