{"version":3,"sources":["utils.js","SimpleScroller.js","App.js","index.js"],"names":["applyDrag","arr","dragResult","console","log","removedIndex","addedIndex","payload","result","Object","toConsumableArray","itemToAdd","splice","generateItems","count","creator","i","push","containerElement","Component","SimpleScroller","_this3","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","handleScroll","e","setState","isDragging","preventDefault","onDragStart","a","addEventListener","passive","onDrop","removeEventListener","items","state","containerRef","el","index","id","data","react_default","createElement","ref","className","dist","map","p","key","App","SimpleScroller_SimpleScroller","ReactDOM","render","src_App_0","document","getElementById"],"mappings":"wSACaA,EAAY,SAACC,EAAKC,GAC3BC,QAAQC,IAAIF,GAD8B,IAElCG,EAAsCH,EAAtCG,aAAcC,EAAwBJ,EAAxBI,WAAYC,EAAYL,EAAZK,QAClC,GAAqB,OAAjBF,GAAwC,OAAfC,EAAqB,OAAOL,EAEzD,IAAMO,EAAMC,OAAAC,EAAA,EAAAD,CAAOR,GACfU,EAAYJ,EAUhB,OARqB,OAAjBF,IACFM,EAAYH,EAAOI,OAAOP,EAAc,GAAG,IAG1B,OAAfC,GACFE,EAAOI,OAAON,EAAY,EAAGK,GAGxBH,GAGIK,EAAgB,SAACC,EAAOC,GAEnC,IADA,IAAMP,EAAS,GACNQ,EAAI,EAAGA,EAAIF,EAAOE,IACzBR,EAAOS,KAAKF,EAAQC,IAEtB,OAAOR,GCaPU,SAjCiBC,aAiCC,GAEhBC,cAyBJ,SAAAA,IAAc,IAAAC,EAAA,OAAAZ,OAAAa,EAAA,EAAAb,CAAAc,KAAAH,IACZC,EAAAZ,OAAAe,EAAA,EAAAf,CAAAc,KAAAd,OAAAgB,EAAA,EAAAhB,CAAAW,GAAAM,KAAAH,QAxBAI,aAAe,SAAAC,GACXP,EAAKQ,SAAS,CAACC,YAAW,IAC1BF,EAAEG,iBAEF5B,QAAQC,IAAIwB,IAmBJP,EAhBZW,YAAc,SAACC,GACX9B,QAAQC,IAAI,cAAc6B,GAG1Bf,EAAiBgB,iBAAiB,YAAab,EAAKM,aAAc,CAACQ,SAAQ,KAYnEd,EATZe,OAAS,SAAAR,GACLV,EAAiBmB,oBAAoB,YAAahB,EAAKM,cACvDN,EAAKQ,SAAS,CAAES,MAAOtC,EAAUqB,EAAKkB,MAAMD,MAAOV,MAO3CP,EALZmB,aAAe,SAACC,GACZvB,EAAmBuB,EACnBtC,QAAQC,IAAIc,IAKhBG,EAAKkB,MAAQ,CACXD,MAAOzB,EAAc,GAAI,SAAC6B,GACxB,MAAO,CACLC,GAAID,EACJE,KAAM,YAAcF,MANdrB,wEAaZ,OADAlB,QAAQC,IAAImB,KAAKgB,MAAMT,YAErBe,EAAAZ,EAAAa,cAAA,WACED,EAAAZ,EAAAa,cAAA,OAAKC,IAAKxB,KAAKiB,aAAcQ,UAAU,wBACrCH,EAAAZ,EAAAa,cAACG,EAAA,UAAD,CAAWjB,YAAaT,KAAKS,YAAaI,OAAQb,KAAKa,QACpDb,KAAKgB,MAAMD,MAAMY,IAAI,SAAAC,GACpB,OACEN,EAAAZ,EAAAa,cAACG,EAAA,UAAD,CAAWG,IAAKD,EAAER,IAChBE,EAAAZ,EAAAa,cAAA,OAAKE,UAAU,kBACZG,EAAEP,mBA9CMzB,aCvBdkC,mLARX,OACER,EAAAZ,EAAAa,cAAA,OAAKE,UAAU,OACbH,EAAAZ,EAAAa,cAACQ,EAAD,cAJUnC,aCFlBoC,IAASC,OAAOX,EAAAZ,EAAAa,cAACW,EAAD,MAASC,SAASC,eAAe","file":"static/js/main.ede51a16.chunk.js","sourcesContent":["\r\nexport const applyDrag = (arr, dragResult) => {\r\n    console.log(dragResult);\r\n    const { removedIndex, addedIndex, payload } = dragResult;\r\n    if (removedIndex === null && addedIndex === null) return arr;\r\n  \r\n    const result = [...arr];\r\n    let itemToAdd = payload;\r\n  \r\n    if (removedIndex !== null) {\r\n      itemToAdd = result.splice(removedIndex, 1)[0];\r\n    }\r\n  \r\n    if (addedIndex !== null) {\r\n      result.splice(addedIndex, 0, itemToAdd);\r\n    }\r\n  \r\n    return result;\r\n  };\r\n  \r\n  export const generateItems = (count, creator) => {\r\n    const result = [];\r\n    for (let i = 0; i < count; i++) {\r\n      result.push(creator(i));\r\n    }\r\n    return result;\r\n  };","import React, { Component } from 'react';\r\nimport { Container, Draggable } from 'react-smooth-dnd';\r\nimport { applyDrag, generateItems } from './utils';\r\nimport './styles.css';\r\n\r\nclass Simple extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      items: generateItems(50, (index) => {\r\n        return {\r\n          id: index,\r\n          data: 'Draggable' + index\r\n        };\r\n      })\r\n    };\r\n  }\r\n  render() {\r\n    return (\r\n      <div>\r\n        <div className=\"simple-page\">\r\n          <Container onDrop={e => this.setState({ items: applyDrag(this.state.items, e) })}>\r\n            {this.state.items.map(p => {\r\n              return (\r\n                <Draggable key={p.id}>\r\n                  <div className=\"draggable-item\">\r\n                    {p.data}\r\n                  </div>\r\n                </Draggable>\r\n              );\r\n            })}\r\n          </Container>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nvar containerElement =- null;\r\n\r\nclass SimpleScroller extends Component {\r\n    \r\n    handleScroll = e => {\r\n        this.setState({isDragging:true});\r\n        e.preventDefault();\r\n        // e.stopPropagation();\r\n        console.log(e);\r\n    }\r\n\r\n    onDragStart = (a) => {\r\n        console.log(\"onDragStart\",a);\r\n        // this._handleScroll = this.handleScroll.bind(this);\r\n        // containerElement.addEventListener(\"scroll\", this.handleScroll, {passive:false});\r\n        containerElement.addEventListener(\"touchmove\", this.handleScroll, {passive:false});\r\n        // window.addEventListener(\"scroll\", this.handleScroll, {passive:false});\r\n    }\r\n    onDrop = e => {\r\n        containerElement.removeEventListener(\"touchmove\", this.handleScroll);\r\n        this.setState({ items: applyDrag(this.state.items, e)});\r\n    }\r\n    containerRef = (el) => {\r\n        containerElement = el;\r\n        console.log(containerElement);\r\n\r\n    }\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      items: generateItems(50, (index) => {\r\n        return {\r\n          id: index,\r\n          data: 'Draggable' + index\r\n        };\r\n      })\r\n    };\r\n  }\r\n  render() {\r\n    console.log(this.state.isDragging);\r\n    return (\r\n      <div>\r\n        <div ref={this.containerRef} className=\"simple-page-scroller\">\r\n          <Container onDragStart={this.onDragStart} onDrop={this.onDrop}>\r\n            {this.state.items.map(p => {\r\n              return (\r\n                <Draggable key={p.id}>\r\n                  <div className=\"draggable-item\">\r\n                    {p.data}\r\n                  </div>\r\n                </Draggable>\r\n              );\r\n            })}\r\n          </Container>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport {\r\n  Simple,\r\n  SimpleScroller\r\n};","import React, { Component } from 'react';\nimport './App.css';\nimport {SimpleScroller} from './SimpleScroller'\n\n\n\n\nclass App extends Component {\n  render() {\n    return (\n      <div className=\"App\">\n        <SimpleScroller/>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}